#######################
Day 14: 23rd Dec. 2025
#######################

Build Orchestration using Jenkins ::::

	https://github.com/PL-DevOps-GenAI-A1125/java-webapp-project
	
	Introduction to Jenkins ::::
	
	What is Jenkins :::
	
		Jenkins is Open-Source Build Orchestration Tool.
		Used to Automate the End-to-End Application Build and Deployments
		Using Jenkins we can create CI/CD Pipelines 
		
	Jenkins Architecture ::
	
		Jenkins is based on Master-Slave Architecture :::
		
			Jenkins_Master (VM)				==> Install Jenkins - To Create Jenkins CI/CD Pipeline Jobs/Projects
				
				Jenkins_SlaveNode1 (VM)		==> Perform Application Builds - compile/create artifacts
						
	
		At Enterprise level :::
		
			Java Applications 
			.Net Applications
			Python Applications 

		Scenario1 :	Application Build and Release frequency is very less.
		
			Jenkins_Master (VM) 	==> Create Jenkins CI/CD Pipeline Projects & Execute the Build in same Jenkins_Master Node.
			
			
		Scenario2 : Muliple Applications with high Build and Release frequencies.
			
			Jenkins_Master (VM)			==> To Create Jenkins CI/CD Pipeline Projects and schedule to the builds in the slave_nodes
																	
				Jenkins_SlaveNode1 (VM)	==> Perform Application Builds - Java Applications 
				Jenkins_SlaveNode2 (VM)	==> Perform Application Builds - .Net Applications			
				Jenkins_SlaveNode3 (VM)	==> Perform Application Builds - Python Applications 
				Jenkins_SlaveNode4 (VM)	==> Perform Application Builds - Angular/NodeJS
				Jenkins_SlaveNode5 (VM)	==> Perform Application Builds - Ruby 	



	- Need to Set-up the Build Environment for Java Maven Applications :::
	
		1. Create a Linux Script to Set-up the Build Environment for Java Maven Applications
		
		2. Create Linux User with ssh keys to perform Application Builds 
		
		3. Perform regular clean-up of the workspace dir 



		
		
#######################
Day 15: 26th Dec. 2025
#######################		

	Working with Jenkins :::
	
	- Jenkins Pipelines/Jobs/Projects Workflow :
		
				- Application Build 
					==> Process of Compiling the Source Code, 
						Create the Artifacts(Executable code - Binaries - *.war/*.jar/*.exec/*.dll) 
				- Unit Test 
				- Promote the Changes to Test Environments
				- Notify the Testing Team thru Emails	
				
	CI/CD Workflow :::
	
		SCM_Checkout 
		Application Build 
		Unit Testing 
		Create Artifacts 
		Promote the Application to Test Environments
		Notify 
		Deploy to Prod 	
		
	
	- Developers' Perspectives :
	
		- Developers are just the consumers of Jenkins using Jenkins Tools and Services.
		- Developers use Jenkins to execute/cancel/view the output - workspace of the Jenkins projects/Pipelines/Jobs.
		
	- DevOps Perspectives:
		
		- DevOps Team is the owner of Jenkins.		
		
		- Roles & Responsibilities of DevOps Team/Resources :
		
		- Jenkins Administration :
		
			- Installation & Configuration of Jenkins 
			- Jenkins Global System Configuration 
			- Plugins Management 
			- Tools Management 
			- User Management
			- Security Management 
			- Credentials Management 
			- Create the Jenkins Master & Slave Node Configurations 
			- Create CICD Pipeline Projects to automate the Applications build  and deployments
			- Onboard Applications to DevOps Practice
			- Periodic Backup & Recovery
			- Periodic Upgrade of Jenkins Services and Plugins 
			- Trobleshoot any Jenkins related Issues
			
	
	- Installation & Configuration of Jenkins :::
	
		Jenkins runs as a service
		
		Jenkins used the default port: 8080
		
		- Login to AWS Console 
		
		- Launch AWS EC2 Ubuntu Instance - 22.04v AMI	/ t2.micro 
		
		- Install Jenkins.
		
			- Jenkins Package run as a service using default port 8080
				- It can be execute using Web-Browser	
		
		
		- https://www.jenkins.io/doc/book/installing/
		
		- https://www.jenkins.io/doc/book/installing/linux/
		
		- Jenkins Installation --> 
					
		- To Install any tool/package :
		
			Install Pre-requisites	
			Install Actual Tool
			Post Installation Actions				
				
					Install Pre-requisites			===> jdk 
					
					Install Actual Tool				===> Install Jenkins  
					
					Post Installation Actions		===> Start Jenkins & Setup Jenkins Service.		
			
	
	- Global System Configurations :
		
		==> Is used to Configure the default properties/External Services/Servers in Jenkins.
		--> goto manage jenkins -> Choose System Config
		
	
	- Plugins Management :
		==> Manage Plugins - Enable/Disable/Install/Uninstall/Update 
		--> goto manage jenkins -> Choose Plugins

	
	- Tools Management :
		==> Manage the Dev/Build Tools for Jenkins 	


Next ::::


		- User Management
		- Security Management 
		- Credentials Management 
		- Create the Jenkins Master & Slave Node Configurations 
		- Create CICD Pipeline Projects to automate the Applications build  and deployments
		- Onboard Applications to DevOps Practice
		- Periodic Backup & Recovery
		- Periodic Upgrade of Jenkins Services and Plugins 
		- Trobleshoot any Jenkins related Issues



#######################
Day 16: 29th Dec. 2025
#######################	


		- User Management
			
		- Security Management 
		- Credentials Management 
		- Create Jenkins CICD Pipeline Projects on Master Node - to automate the Applications build  and deployments
		- Create the Jenkins Master & Slave Node Configurations 

	- User Management : 
		==> Enable User Authentication
	
	
	- Security Management :	
		==> Enable User Authorization
	
	
	- Credential Management : 
		==> It is the default Credential Manager for Jenkins to Manage the Credentials of External Servers/Users
				
		

	Create Jenkins Projects/Jobs on Jenkins Master ::::

		- Free Style Projects :::
		
			- It is based on manual configuration using Jenkins Console.
			- Cannot reuse.
			
			
		- Variables :::
		
			- Environment Variables :::
				- Jenkins reserved key works, that gets updated for every job.
			
					"jenkins-${JOB_NAME}-${BUILD_NUMBER}"
					
					"${var1}"
			
			- User-Defined Variables :::
			
					envi = "QA"			# Possible runtime inputs QA/UAT/PROD
					
		
		- Pipeline Projects :::
			
			- It is based on the groovy scripts.
			- It is actually used to Onboard Applications to CICD Process.
			- Reusable
			
			
			- Jenkins Pipelines composed of various stages :
				- Each stage has some set of task(build steps)
				
			- Scripted Pipelines 	: - typical groovy scripts. 
			
			- Declarative Pipelines :	
					- It is simplified version of Scripted Pipelines 
					- Script/Snippet Generator to Create/Generate the Scripts 
					
					

pipeline {
    agent any

	environment{
		envi = "qa"
	}

    stages {
        stage('SCM_Checkout') {
            steps {
                echo 'Perform SCM Checkout'	
				echo "${envi}"
            }
        }
        stage('Application_Build') {
            steps {
                echo 'Perform Maven Application Build'
				
            }
        }
        stage('Deploy to QA Server') {
            steps {
                echo 'Deploy Artifacts to QA Server'
            }
        }
    }
}

			
			
	CI/CD Workflow :::
	
		SCM_Checkout 
		Application Build 
		Unit Testing 
		Create Artifacts 
		Promote the Application to Test Environments
		Notify 
		Deploy to Prod 	


NExt ::
	
	- Create the Jenkins Master & Slave Node Configurations 
	
		Jenkins_Master	(VM)	--> git, jdk, jenkins
		
			- Jenkins_Slave_Node(VM - Build_Server)
								--> git, jdk, maven
		
		Scenario2 : Muliple Applications with high Build and Release frequencies.
			
			Jenkins_Master (VM)			==> To Create Jenkins CI/CD Pipeline Projects and schedule to the builds in the slave_nodes
																	
				Jenkins_SlaveNode1 (VM)	==> Perform Application Builds - Java Applications 		
		
		
		
#######################
Day 17: 30th Dec. 2025
#######################			
		
	- Create the Jenkins Master & Slave Node Configurations :::
	
	- Architecture :::
	
		Jenkins_Master (VM)			==> To Create Jenkins CI/CD Pipeline Projects and schedule to the builds in the slave_nodes
																
			Jenkins_SlaveNode1 (VM)	==> Perform Application Builds - Java Applications		
		
		
		- Tools :
		
			Jenkins_Master (VM) 		==>	git,jkd,jenkins 
			
				Jenkins_SlaveNode1 (VM)	==> git,jenkins,maven 
				
		- Integration and Dependencies :
				
				SSH Connection :
				
					Host_Name 
					User_Name 
					SSH-Key
					
				
				
		
pipeline {

    agent { label 'slave1' }

    stages {
        stage('SCM_Checkout') {
            steps {
                echo 'Perform SCM Checkout'	
				git 'https://github.com/PL-DevOps-GenAI-A1125/java-webapp-project.git'
				
            }
        }
        stage('Application_Build') {
            steps {
                echo 'Perform Maven Application Build'
				sh 'mvn clean package'				
            }
        }
        stage('Deploy to QA Server') {
            steps {
                echo 'Deploy Artifacts to QA Server'
            }
        }
    }
}	


	Non-Prod 						Prod 
	
		- Dev 
		
		- Build 	==> *.war
		
		- QA 
		
		- UAT 			==> 		Prod 
		
		
	
	Deployment :::		# Process of copying the artifacts from one server to another!
	
		
		Target Server/Hosted Server/Deployment Server 
		
		==> Web Application Server # Software Packer ==> tomcat/nginx/httpd 
		
	
		- Jenkins_Master (VM)			# git, jdk, jenkins 
			- Jenkins_SlaveNode1 (VM) 	# git, jdk, maven 
			
		- Tomcat_Server (VM)			# jdk,tomcat 
	
	
	- Setup the Target Server and Deploy the Artifacts!
	

	Deployment :
	
	- Source Server 														Target Server 
	
		Slave_Node1																Tomcat_Server
		
			target/*.war					=================>						/opt/tomcat/webapps
			
																					/opt/tomcat/webapps/*.war
pipeline {

    agent { label 'slave1' }

    stages {
        stage('SCM_Checkout') {
            steps {
                echo 'Perform SCM Checkout'	
				git 'https://github.com/PL-DevOps-GenAI-A1125/java-webapp-project.git'
				
            }
        }
        stage('Application_Build') {
            steps {
                echo 'Perform Maven Application Build'
				sh 'mvn clean package'				
            }
        }
        stage('Deploy to QA Server') {
            steps {
                script{
					sshPublisher(publishers: [sshPublisherDesc(configName: 'QA_Tomcat_Server', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: '', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '.', remoteDirectorySDF: false, removePrefix: 'target/', sourceFiles: 'target/*.war')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
                }
            }
        }
    }
}	
		
	

sshPublisher(publishers: [sshPublisherDesc(configName: 'QA_Tomcat_Server', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: '', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '.', remoteDirectorySDF: false, removePrefix: 'target/', sourceFiles: 'target/*.war')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])	
		
		

http://43.204.227.54:8080/demo-1.0-SNAPSHOT/


Next :::

	Build Triggers :::
	
	
	Email Notifications :::		




######################
Day 18: 2nd Jan. 2026
######################			
		
	- Build Triggers :::	
		
	
		Is used to Automate the Job Scheduling!
	
	
		- Build Periodic :			# https://crontab.guru/
			
			- Used to trigger the jenkins jobs irrespective of code change. - It is not meant for CI/CD.
			- To perform any process automation
			- The build is sheduled based on the crontab 
			
			
			Eg.: 
			
				Environments :
				
					Non-Prod Environments												=====>		Prod Environments
					
						Should be available only during the business Hours 								Should be available 24/7
						
							9AM - 10PM 
							
						Jenkins Project1 		Scheduled to run at 8:45AM
						
							- Task - Start all the Non-Prod Servers 

						Jenkins Project2 		Scheduled to run at 10:15PM
						
							- Task - Stop all the Non-Prod Servers 		




		- GitHub Webhook ::: It is meant for CI/CD.
		
			- Used to trigger the jenkins Job whenever there is any commit happened in the remote repository
			- github webhook has be configured in the remote repository by using the jenkins URL			
		
		http://3.110.210.103:8080/github-webhook/
		
		http://35.154.157.33:8080/github-webhook/
		
		
		
		- PollSCM :::
		
			- It is used to trigger the build based on the crontab only if there is any changes happened in the source-code repository.
			
			
			Test Cycles :
			
				==>  8AM - 12PM - 3PM
				
				QA/UAT Testing  
				
			
	- Jenkins Email Notifications :::		
	
	
		In Jenkins Pipeline Jobs, Email Notifications can be done as a post build action.
		
		
		Stage{}
		post{
			success 
			failure 
			abort
		}	

Before Creating the EMail Scripts:
Configure Email Server:

To Setup the Email Notifications, First we need to set the Email Server in the Jenkins System configuration :




Login to Gmail :::

Click Manage Account Settings

@Left side panel - select Security 

MFA/Two-Way Authentication --> mobile#

Search for App password in the same page

Name:
Mail

What ? window
Which Appln - email	

App Password = 16 bytes of App Password. vmbf xkjk jnkn kjhy



How to setup the Email Server in the Jenkins Config:

goto manage jenkins -> system configuration 

goto Email Notification 
		
SMTP Server : smtp.gmail.com	

SMTP Authentication
	User Name: Enter Email ID 
	Password : 16 bytes of App Token (Created in Gmail)
	
Choose SSL :

SMTP Port :: 465


pipeline {

    agent { label 'slave1' }

    stages {
        stage('SCM_Checkout') {
            steps {
                echo 'Perform SCM Checkout'	
				git 'https://github.com/PL-DevOps-GenAI-A1125/java-webapp-project.git'
				
            }
            post {
                failure {
                  sh "echo 'Send mail on failure'"					
					mail bcc: 's1.gmail.com', body: '"Jenkins Jobs Status ${BUILD_URL}"', cc: 's1.gmail.com', from: '', replyTo: '', subject: 'SCM-Checkout Failed - "Job '${JOB_NAME}' (${BUILD_NUMBER})"', to: 's1.gmail.com'
                }
              }			
        }

        stage('Application_Build') {
            steps {
                echo 'Perform Maven Application Build'
				sh 'mvn clean package'				
            }
            post {
                failure {
                  sh "echo 'Send mail on failure'"					
					mail bcc: 's1.gmail.com', body: '"Jenkins Jobs Status ${BUILD_URL}"', cc: 's1.gmail.com', from: '', replyTo: '', subject: 'App Build Failed - "Job '${JOB_NAME}' (${BUILD_NUMBER})"', to: 's1.gmail.com'
                }
              }
        }
        stage('Deploy to QA Server') {
            steps {
                script{
					sshPublisher(publishers: [sshPublisherDesc(configName: 'QA_Tomcat_Server', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: '', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '.', remoteDirectorySDF: false, removePrefix: 'target/', sourceFiles: 'target/*.war')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
                }
            }
            post {
                Success {
                  sh "echo 'Send mail on Success-deployment'"						
					mail bcc: 's1.gmail.com', body: '"Jenkins Jobs Status ${BUILD_URL}"', cc: 's1.gmail.com', from: '', replyTo: '', subject: 'Deployment Successful', to: 's1.gmail.com'
                }
                Failure {
                  sh "echo 'Send mail on deployment Failure'"					
					mail bcc: 's1.gmail.com', body: '"Jenkins Jobs Status ${BUILD_URL}"', cc: 's1.gmail.com', from: '', replyTo: '', subject: 'Deployment Failed', to: 's1.gmail.com'
                }
                abort {
                  sh "echo 'Send mail on deployment Aborted'"					
					mail bcc: 's1.gmail.com', body: '"Jenkins Jobs Status ${BUILD_URL}"', cc: 's1.gmail.com', from: '', replyTo: '', subject: 'Deployment Aborted', to: 's1.gmail.com'
                }		
              }
        }
    }
}	


		
	- Back-up & Recovery:
	
		
